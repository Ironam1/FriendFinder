<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js">
  <!--<![endif]-->
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>FriendFinder/survey</title>
    <meta name="description" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
      integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
      crossorigin="anonymous"
    />
    <script
      src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
      integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
      integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
      integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
      crossorigin="anonymous"
    ></script>
    <script src="https://code.jquery.com/jquery.js"></script>
  </head>
  <body>
    <!--[if lt IE 7]>
      <p class="browsehappy">
        You are using an <strong>outdated</strong> browser. Please
        <a href="#">upgrade your browser</a> to improve your experience.
      </p>
    <![endif]-->
    <div id="header">
      <h3>Survey Questions</h3>
    </div>

    <div id="about">
      <h4>About You</h4>
      <br />
      <div class="input-group mb-3">
        <input
          type="text"
          class="form-control"
          id="name"
          placeholder="Name (required)"
          aria-label="Name (required)"
        />
      </div>
      <div class="input-group mb-3">
        <input
          type="text"
          class="form-control"
          id="photo"
          placeholder="Link to Photo (required)"
          aria-label="Link to Photo (required)"
        />
      </div>
    </div>
    <div id="questions">
      <div id="question">
        <h3>Question 1</h3>
        <p>Nintendo is the best gaming system?</p>
        <div class="dropdown">
          <button
            class="btn btn-secondary dropdown-toggle"
            type="button"
            id="dropdownMenu"
            data-toggle="dropdown"
            aria-haspopup="true"
            aria-expanded="false"
          >
            Choices
          </button>
          <div class="dropdown-menu" aria-labelledby="dropdownMenu">
            <button class="dropdown-item" value="1">
              1 (Strongly Disagree)
            </button>
            <button class="dropdown-item" value="2" type="button">2</button>
            <button class="dropdown-item" value="3" type="button">3</button>
            <button class="dropdown-item" value="4" type="button">4</button>
            <button class="dropdown-item" value="5" type="button">
              5 (Stongly Agree)
            </button>
          </div>
        </div>
      </div>
      <div id="question">
        <h3>Question 2</h3>
        <p>Star Wars is the best movie franchise?</p>
        <div class="dropdown">
          <button
            class="btn btn-secondary dropdown-toggle"
            type="button"
            id="dropdownMenu2"
            data-toggle="dropdown"
            aria-haspopup="true"
            aria-expanded="false"
          >
            Choices
          </button>
          <div class="dropdown-menu" aria-labelledby="dropdownMenu2">
            <button class="dropdown-item2" value="1" type="button">
              1 (Strongly Disagree)
            </button>
            <button class="dropdown-item2" value="2" type="button">2</button>
            <button class="dropdown-item2" value="3" type="button">3</button>
            <button class="dropdown-item2" value="4" type="button">4</button>
            <button class="dropdown-item2" value="5" type="button">
              5 (Stongly Agree)
            </button>
          </div>
        </div>
      </div>
      <div id="question">
        <h3>Question 3</h3>
        <p>FOX studios destroyed the Marvel timeline?</p>
        <div class="dropdown">
          <button
            class="btn btn-secondary dropdown-toggle"
            type="button"
            id="dropdownMenu3"
            data-toggle="dropdown"
            aria-haspopup="true"
            aria-expanded="false"
          >
            Choices
          </button>
          <div class="dropdown-menu" aria-labelledby="dropdownMenu2">
            <button class="dropdown-item3" value="1" type="button">
              1 (Strongly Disagree)
            </button>
            <button class="dropdown-item3" value="2" type="button">2</button>
            <button class="dropdown-item3" value="3" type="button">3</button>
            <button class="dropdown-item3" value="4" type="button">4</button>
            <button class="dropdown-item3" value="5" type="button">
              5 (Stongly Agree)
            </button>
          </div>
        </div>
      </div>
      <div id="question">
        <h3>Question 4</h3>
        <p>Pineapple belongs on pizza?</p>
        <div class="dropdown">
          <button
            class="btn btn-secondary dropdown-toggle"
            type="button"
            id="dropdownMenu4"
            data-toggle="dropdown"
            aria-haspopup="true"
            aria-expanded="false"
          >
            Choices
          </button>
          <div class="dropdown-menu" aria-labelledby="dropdownMenu2">
            <button class="dropdown-item4" value="1" type="button">
              1 (Strongly Disagree)
            </button>
            <button class="dropdown-item4" value="2" type="button">2</button>
            <button class="dropdown-item4" value="3" type="button">3</button>
            <button class="dropdown-item4" value="4" type="button">4</button>
            <button class="dropdown-item4" value="5" type="button">
              5 (Stongly Agree)
            </button>
          </div>
        </div>
      </div>
      <div id="question">
        <h3>Question 5</h3>
        <p>Brexit was a good idea?</p>
        <div class="dropdown">
          <button
            class="btn btn-secondary dropdown-toggle"
            type="button"
            id="dropdownMenu5"
            data-toggle="dropdown"
            aria-haspopup="true"
            aria-expanded="false"
          >
            Choices
          </button>
          <div class="dropdown-menu" aria-labelledby="dropdownMenu2">
            <button class="dropdown-item5" value="1" type="button">
              1 (Strongly Disagree)
            </button>
            <button class="dropdown-item5" value="2" type="button">2</button>
            <button class="dropdown-item5" value="3" type="button">3</button>
            <button class="dropdown-item5" value="4" type="button">4</button>
            <button class="dropdown-item5" value="5" type="button">
              5 (Stongly Agree)
            </button>
          </div>
        </div>
      </div>
      <div id="question">
        <h3>Question 6</h3>
        <p>The Yankees suck?</p>
        <div class="dropdown">
          <button
            class="btn btn-secondary dropdown-toggle"
            type="button"
            id="dropdownMenu6"
            data-toggle="dropdown"
            aria-haspopup="true"
            aria-expanded="false"
          >
            Choices
          </button>
          <div class="dropdown-menu" aria-labelledby="dropdownMenu2">
            <button class="dropdown-item6" value="1" type="button">
              1 (Strongly Disagree)
            </button>
            <button class="dropdown-item6" value="2" type="button">2</button>
            <button class="dropdown-item6" value="3" type="button">3</button>
            <button class="dropdown-item6" value="4" type="button">4</button>
            <button class="dropdown-item6" value="5" type="button">
              5 (Stongly Agree)
            </button>
          </div>
        </div>
      </div>
      <div id="question">
        <h3>Question 7</h3>
        <p>You feel comfortable in a larger group of people?</p>
        <div class="dropdown">
          <button
            class="btn btn-secondary dropdown-toggle"
            type="button"
            id="dropdownMenu7"
            data-toggle="dropdown"
            aria-haspopup="true"
            aria-expanded="false"
          >
            Choices
          </button>
          <div class="dropdown-menu" aria-labelledby="dropdownMenu2">
            <button class="dropdown-item7" value="1" type="button">
              1 (Strongly Disagree)
            </button>
            <button class="dropdown-item7" value="2" type="button">2</button>
            <button class="dropdown-item7" value="3" type="button">3</button>
            <button class="dropdown-item7" value="4" type="button">4</button>
            <button class="dropdown-item7" value="5" type="button">
              5 (Stongly Agree)
            </button>
          </div>
        </div>
      </div>
      <div id="question">
        <h3>Question 8</h3>
        <p>Spontanaity is reckless?</p>
        <div class="dropdown">
          <button
            class="btn btn-secondary dropdown-toggle"
            type="button"
            id="dropdownMenu8"
            data-toggle="dropdown"
            aria-haspopup="true"
            aria-expanded="false"
          >
            Choices
          </button>
          <div class="dropdown-menu" aria-labelledby="dropdownMenu2">
            <button class="dropdown-item8" value="1" type="button">
              1 (Strongly Disagree)
            </button>
            <button class="dropdown-item8" value="2" type="button">2</button>
            <button class="dropdown-item8" value="3" type="button">3</button>
            <button class="dropdown-item8" value="4" type="button">4</button>
            <button class="dropdown-item8" value="5" type="button">
              5 (Stongly Agree)
            </button>
          </div>
        </div>
      </div>
      <div id="question">
        <h3>Question 9</h3>
        <p>There's nothing better than a good book?</p>
        <div class="dropdown">
          <button
            class="btn btn-secondary dropdown-toggle"
            type="button"
            id="dropdownMenu9"
            data-toggle="dropdown"
            aria-haspopup="true"
            aria-expanded="false"
          >
            Choices
          </button>
          <div class="dropdown-menu" aria-labelledby="dropdownMenu2">
            <button class="dropdown-item9" value="1" type="button">
              1 (Strongly Disagree)
            </button>
            <button class="dropdown-item9" value="2" type="button">2</button>
            <button class="dropdown-item9" value="3" type="button">3</button>
            <button class="dropdown-item9" value="4" type="button">4</button>
            <button class="dropdown-item9" value="5" type="button">
              5 (Stongly Agree)
            </button>
          </div>
        </div>
      </div>
      <div id="question">
        <h3>Question 10</h3>
        <p>Led Zepplin is the greatest band that ever was?</p>
        <div class="dropdown">
          <button
            class="btn btn-secondary dropdown-toggle"
            type="button"
            id="dropdownMenu10"
            data-toggle="dropdown"
            aria-haspopup="true"
            aria-expanded="false"
          >
            Choices
          </button>
          <div class="dropdown-menu" aria-labelledby="dropdownMenu10">
            <button class="dropdown-item10" value="1" type="button">
              1 (Strongly Disagree)
            </button>
            <button class="dropdown-item10" value="2" type="button">2</button>
            <button class="dropdown-item10" value="3" type="button">3</button>
            <button class="dropdown-item10" value="4" type="button">4</button>
            <button class="dropdown-item10" value="5" type="button">
              5 (Stongly Agree)
            </button>
          </div>
        </div>
      </div>
      <button
        type="button"
        id="submit"
        class="btn btn-primary btn-lg btn-block"
      >
        Submit
      </button>
    </div>
    <div class="modal" id="myModal" tabindex="-1" role="dialog">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Modal title</h5>
            <button
              type="button"
              class="close"
              data-dismiss="modal"
              aria-label="Close"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <p>Modal body text goes here.</p>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-dismiss="modal"
            >
              Close
            </button>
            <button type="button" class="btn btn-primary">Save changes</button>
          </div>
        </div>
      </div>
    </div>
    <a href="/api/friendsList">API Friends List</a> |
    <a href="https://github.com/Ironam1/FriendFinder.git">GitHub Repo</a>

    <script type="text/javascript">
      let currentURL = window.location.origin;

      $(".dropdown-item10").on("click", function(evt) {
        evt.preventDefault();

        let number = $(this).val();
        $("#dropdownMenu10").text(number);
        $("#dropdownMenu10").val(parseInt(number));
      });
      $(".dropdown-item").on("click", function(evt) {
        evt.preventDefault();

        let number = $(this).val();
        $("#dropdownMenu").text(number);
        $("#dropdownMenu").val(parseInt(number));
      });
      $(".dropdown-item2").on("click", function(evt) {
        evt.preventDefault();

        let number = $(this).val();
        $("#dropdownMenu2").text(number);
        $("#dropdownMenu2").val(parseInt(number));
      });
      $(".dropdown-item3").on("click", function(evt) {
        evt.preventDefault();

        let number = $(this).val();
        $("#dropdownMenu3").text(number);
        $("#dropdownMenu3").val(parseInt(number));
      });
      $(".dropdown-item4").on("click", function(evt) {
        evt.preventDefault();

        let number = $(this).val();
        $("#dropdownMenu4").text(number);
        $("#dropdownMenu4").val(parseInt(number));
      });
      $(".dropdown-item5").on("click", function(evt) {
        evt.preventDefault();

        let number = $(this).val();
        $("#dropdownMenu5").text(number);
        $("#dropdownMenu5").val(parseInt(number));
      });
      $(".dropdown-item6").on("click", function(evt) {
        evt.preventDefault();

        let number = $(this).val();
        $("#dropdownMenu6").text(number);
        $("#dropdownMenu6").val(parseInt(number));
      });
      $(".dropdown-item7").on("click", function(evt) {
        evt.preventDefault();

        let number = $(this).val();
        $("#dropdownMenu7").text(number);
        $("#dropdownMenu7").val(parseInt(number));
      });
      $(".dropdown-item8").on("click", function(evt) {
        evt.preventDefault();

        let number = $(this).val();
        $("#dropdownMenu8").text(number);
        $("#dropdownMenu8").val(parseInt(number));
      });
      $(".dropdown-item9").on("click", function(evt) {
        evt.preventDefault();

        let number = $(this).val();
        $("#dropdownMenu9").text(number);
        $("#dropdownMenu9").val(parseInt(number));
      });

      $("#submit").on("click", function(evt) {
        evt.preventDefault();
        let newFriend = 
          {
            name: $("#name")
              .val()
              .trim(),
            photo: $("#photo")
              .val()
              .trim(),
            scores: [
              $("#dropdownMenu")
                .val()
                .trim(),
              $("#dropdownMenu2")
                .val()
                .trim(),
              $("#dropdownMenu3")
                .val()
                .trim(),
              $("#dropdownMenu4")
                .val()
                .trim(),
              $("#dropdownMenu5")
                .val()
                .trim(),
              $("#dropdownMenu6")
                .val()
                .trim(),
              $("#dropdownMenu7")
                .val()
                .trim(),
              $("#dropdownMenu8")
                .val()
                .trim(),
              $("#dropdownMenu9")
                .val()
                .trim(),
              $("#dropdownMenu10")
                .val()
                .trim()
            ]
          };

        //   var newArr = parseInt(newFriend.scores);
        //   var sum = newArr.reduce(function(a, b){
        //     return a + b;
        //   }, 0);
        // console.log(sum);
        

        $.ajax({ url: currentURL + "/api/friendsList", method: "GET" }).then(
          function(data) {
            for (var i = 0; i < data.length; i++) {
              // var scoreArr = data[i].scores;
              console.log(data[i].scores);
            }
            console.log(JSON.stringify(newFriend) + "#2");
            $.post("api/friendsList", newFriend, function(data) {
              if (data) {
                console.log("sweet");
              } else {
                console.log("nope");
              }
            });
          });
          $("#myModal").modal();
      });
      // I have most functionality working. Except maybe the biggest part. I'm really stuck trying to figure out how
      // to compare the arrays. 
    </script>
  </body>
</html>
